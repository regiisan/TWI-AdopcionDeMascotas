<!DOCTYPE HTML>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:insert="templates/head :: head"></head>
<link rel="stylesheet" href="../../../resources/core/css/main.css">
<body>

<header th:insert="templates/header :: encabezado"></header>

<main class="d-flex align-items-center justify-content-center vh-100">
    <div class="container">
        <div class="card card-perfil mx-auto p-4 rounded-4"
             style="max-width: 500px; background-color: rgba(94,58,156,.9); color:white;">
            <h3 class="text-center mb-3">Mi Perfil</h3>
            <hr style="border-color:rgba(255,255,255,.3);"/>

            <form th:action="@{/editar-perfil}" th:object="${usuario}" method="POST">

                <!-- Email -->
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" th:field="*{email}"/>
                </div>

                <!-- Edad preferida -->
                <div class="mb-3">
                    <label class="form-label">Edad preferida</label>
                    <input type="number" class="form-control" th:field="*{edadPreferida}"/>
                </div>

                <!-- Tipo preferido -->
                <div class="mb-3">
                    <label class="form-label">Tipo preferido</label>
                    <select class="form-select" th:field="*{tipoPreferido}">
                        <option th:each="t : ${tipos}" th:value="${t}" th:text="${t}"></option>
                    </select>
                </div>

                <!-- Tamaño preferido -->
                <div class="mb-3">
                    <label class="form-label">Tamaño preferido</label>
                    <select class="form-select" th:field="*{tamanoPreferido}">
                        <option th:each="tam : ${tamanos}" th:value="${tam}" th:text="${tam}"></option>
                    </select>
                </div>

                <!-- Sexo preferido -->
                <div class="mb-3">
                    <label class="form-label">Sexo preferido</label>
                    <select class="form-select" th:field="*{sexoPreferido}">
                        <option th:each="s : ${sexos}" th:value="${s}" th:text="${s}"></option>
                    </select>
                </div>

                <!-- Nivel de energía preferido -->
                <div class="mb-4">
                    <label class="form-label">Nivel de energía preferido</label>
                    <select class="form-select" th:field="*{nivelEnergiaPreferido}">
                        <option th:each="n : ${nivelesEnergia}" th:value="${n}" th:text="${n}"></option>
                    </select>
                </div>

                <!-- Cambiar contraseña -->
                <div class="mb-4">
                    <label class="form-label">Cambiar contraseña</label>
                    <input type="password" class="form-control" name="password" placeholder="Nueva contraseña"/>
                </div>

                <button type="submit" class="btn btn-violeta-invertida w-100 mb-2">Guardar cambios</button>
            </form>

            <form th:if="${session.idUsuario != null}" th:action="@{/logout}" method="POST" class="m-0">
                <button type="submit" class="btn btn-outline-light w-100">Cerrar sesión</button>
            </form>
        </div>
    </div>
</main>

</body>
</html>
